#include<stdio.h>
int calend(int month, int year);

void main()
{
    int d,m,y,i,yn,yr;
    int r=0,r1=0,r2=0,s=0;
    input:
    printf("\t\t\t\t\t\tEnter the DATE MONTH and YEAR\n");
    printf("------------------------------------------------------------------------------------------------------------------------\n");

    printf("Enter Date: ");
    scanf("%d", &d);

    printf("Enter Month: ");
    scanf("%d", &m);

    printf("Enter Year: ");
    scanf("%d",&y);

    yr=y;

    if(m==2){
   if((d>28)&&(y%4!=0))
    {
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    printf("\t\t\tInvalid date in February of non leap year.The maximum value is 28\n");
   printf("------------------------------------------------------------------------------------------------------------------------\n");
     goto input;
     }
     if((d>29)&&(y%4==0))
        {
     printf("------------------------------------------------------------------------------------------------------------------------\n");

     printf("\t\t\tInvalid date in February of leap year.The maximum value is 29\n");
     printf("------------------------------------------------------------------------------------------------------------------------\n");
     goto input;
     }
     }
    else if((m==1)||(m==3)||(m==5)||(m==7)||(m==8)||(m==10)||(m==12)){
    if(d>31)
    {
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    printf("\t\t\t\tInvalid date in %d th month.The maximum value is 31\n",m);
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    goto input;
    }
    }
    else if(((m==4)||(m==6)||(m==9)||(m==11))&&(d<30))
        {
      printf("------------------------------------------------------------------------------------------------------------------------\n");
      printf("\t\t\tInvalid date in the %d th month.The maximum value is 30\n\n",m);
      printf("------------------------------------------------------------------------------------------------------------------------\n");

      goto input;
      }
    else if((d>31)){
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    printf("\t\t\t\t\tEnter valid date\n");
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    goto input;
    }
    if((d<1)||(m<1)){
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    printf("\t\t\t\t\tFool, PABNA is 204km way from Dhaka.\n");
    printf("------------------------------------------------------------------------------------------------------------------------\n");
    goto input;
    }
    else  {

    switch(m){
    case 1:
    case 10:
    r1=d+2;
    break;
    case 2:
    case 3:
    case 11:
    r1=d+5;
    break;
    case 4:
    case 7:
    r1=d+1;
    break;
    case 9:
    case 12:
    r1=d;
    break;
    case 5:
    r1=d+3;
    break;
    case 6:
    r1=d+6;
    break;
    case 8:
    r1=d+4;
    break;
    default:
    {
        printf("------------------------------------------------------------------------------------------------------------------------\n");

    printf("\t\t\t(-_-)You have Inputed Wrong number of month.(-_-)\n");

        printf("------------------------------------------------------------------------------------------------------------------------\n");

    goto input;
    }
    }
    }
        if(y<2003){
    for(i=2002;i>=y;i--){
    if((i==y)&&(i%4==0)){
      if(m>2) s=s+1;
      else if(m<=2) s=s+2;
       break;
       }

       else if(i%4==0){
       if(i%100==0){
         if(i%400==0)
         s=s+2;
         else s=s+1;
         }
       else s=s+2;
        }
       else s=s+1;
       }
       r2=7-s%7;
       }
    else if(y>2003){
    for(i=2004;i<=y;i++){
    if((i==y)&&(i%4==0)){
    if(m>2) s=s+2;
    else if(m<=2) s=s+1;
    break;
    }
     else if(i%4==0){
      if(i%100==0){
      if(i%400==0)
      s=s+2;
      else s=s+1;
      }
      else s=s+2;
      }
     else s=s+1;
     }
     r2=s%7;
     }
            else r2=0;
    r=(r1+r2)%7;
    printf(" ");
    switch(r){
    case 0:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t\t('_-) The Day is SUNDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 1:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t('_-) The Day is MONDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 2:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t('_-) The Day is TUESDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 3:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t('_-) The Day is WEDNESDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 4:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t('_-) The Day is THURSDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 5:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t('_-) The Day is FRIDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    case 6:
        printf("-----------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t('_-) The Day is SATURDAY (-_')\n------------------------------------------------------------------------------------------------------------------------\n");
        break;
    }
    printf("Do you want to see the Calander?\nIf yes Input 1:\nIf no Input 2:\n");
    scanf("%d", &yn);
   if(yn==1)
    {
        calend(m,yr);

        printf("------------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t '.'Project By Sajeeb Shahriar'.'\n");
        printf("------------------------------------------------------------------------------------------------------------------------\n");


    }else
    {
        printf("------------------------------------------------------------------------------------------------------------------------\n");
        printf("\t\t\t\t\t '.'Project By Sajeeb Shahriar'.'\n");
        printf("------------------------------------------------------------------------------------------------------------------------\n");
    }

}
char *months[] =
    {
     " ",
     "\nJanuary",
     "\nFebruary",
     "\nMarch",
     "\nApril",
     "\nMay",
     "\nJune",
     "\nJuly",
     "\nAugust",
      "\nSeptember",
     "\nOctober",
     "\nNovember",
     "\nDecember"
    };

int month_days[] = {0, 31, 28, 31, 30, 31, 30, 31 ,31 ,30, 31, 30, 31};

int first_day_year(int year)
{
    int first_day;
    int x;
    int y;
    int z;

    first_day = (year + x - y + z) %7;

    return first_day;
}

int leapyear(int year)
{
    if(year%4 == 0 && year%100 != 0 || year%400 == 0)
    {
        month_days[2] = 29;
        return 1;
    } else {
        month_days[2] = 28;
        return 0;
    }
}

int calendar(int month, int year, int first_day)
{
    int i;

    printf("%s %d\n\n", months[month], year);
    printf("Sun  Mon  Tue  Wed  Thu  Fri  Sat\n");

    for(i = 0; i < month; i++)
    {
        first_day = (first_day + month_days[month]) % 7;
    }

    for(i = 1; i <= 1 + first_day * 5; i++)
    {
        printf(" ");
    }

    for(i = 1; i <= month_days[month]; i++)
    {
        printf("%2d", i);

        if((i + first_day)%7 > 0)
            printf("   ");
        else
            printf("\n ");
    }
}

int calend(int month, int year)
{
    int first_day;
    first_day = first_day_year(year);
    leapyear(year);
    calendar(month, year, first_day);

    printf("\n");

    return 0;
}
